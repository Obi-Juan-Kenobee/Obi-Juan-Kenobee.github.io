<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tony Martz | Contact</title>
    <link rel="stylesheet" href="../stylesheets/style.css" />
    <link rel="stylesheet" href="../stylesheets/contact.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body>
    <div class="topnav" id="myTopnav">
      <a href="../index.html">Home</a>
      <a href="resume.html">Resume</a>
      <a href="web-development-projects.html">Projects</a>
      <!-- <a href="projects.html">Projects</a> -->
      <a href="contact.html" class="active">Contact</a>
      <a
        href="javascript:void(0);"
        id="burger-menu"
        class="icon"
        onclick="myFunction()"
      >
        <!-- <i class="fa fa-bars"></i> -->
        T.Martz
      </a>
    </div>

    <div class="container">
      <main>
        <header class="contact-header">
          <h1>Let's Work Together!</h1>
          <div class="contact-intro">
            <p>
              I am currently looking for new opportunities. I love working on
              challenging projects and am always open to learning and growing.
            </p>
          </div>
        </header>

        <div class="contact-grid">
          <section class="contact-methods">
            <h2>Get in Touch</h2>
            <div class="social-links">
              <a href="mailto:jua2131999@maricopa.edu?subject=Website%20Contact&body=Hi%20Tony,%0D%0A%0D%0A" class="social-link">
                <div class="social-icon">
                  <i class="fa fa-envelope"></i>
                </div>
                <div class="social-info">
                  <h3>Email</h3>
                  <p>jua2131999@maricopa.edu</p>
                </div>
              </a>

              <a href="https://linkedin.com/in/obi-juan-kenobi" class="social-link" target="_blank">
                <div class="social-icon">
                  <i class="fa fa-linkedin"></i>
                </div>
                <div class="social-info">
                  <h3>LinkedIn</h3>
                  <p>linkedin.com/in/obi-juan-kenobi</p>
                </div>
              </a>

              <a href="https://github.com/Obi-Juan-Kenobee" class="social-link" target="_blank">
                <div class="social-icon">
                  <i class="fa fa-github"></i>
                </div>
                <div class="social-info">
                  <h3>GitHub</h3>
                  <p>github.com/Obi-Juan-Kenobee</p>
                </div>
              </a>
            </div>
          </section>

          <section class="contact-form">
            <h2>Send a Message</h2>
            <form id="contact-form" method="post" action="https://forms.un-static.com/forms/c6d35c3adda40a4b8cd7d04c03c4dc3a3965d651" novalidate>
              <div class="form-group">
                <label for="name">Name <span class="required">*</span></label>
                <input
                  type="text"
                  id="name"
                  name="name"
                  minlength="3"
                  pattern="[a-zA-Z\s]*"
                  required
                  placeholder="Enter your name"
                />
                <div class="validation-message" id="name-validation"></div>
              </div>

              <div class="form-group">
                <label for="email">Email <span class="required">*</span></label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  required
                  placeholder="Enter your email"
                />
                <div class="validation-message" id="email-validation"></div>
              </div>

              <div class="form-group">
                <label for="message">Message <span class="required">*</span></label>
                <textarea
                  id="message"
                  name="message"
                  rows="5"
                  minlength="10"
                  required
                  placeholder="Your message here..."
                ></textarea>
                <div class="validation-message" id="message-validation"></div>
              </div>

              <button type="submit" class="submit-btn">
                <span>Send Message</span>
                <i class="fa fa-paper-plane"></i>
              </button>
            </form>
          </section>
        </div>
      </main>
    </div>

    <footer class="footer">
      <small> 2024 Tony Martz</small>
    </footer>

    <!-- form validation script -->
    <script>
      // Form Validation
      const form = document.getElementById('contact-form');
      const nameInput = document.getElementById('name');
      const emailInput = document.getElementById('email');
      const messageInput = document.getElementById('message');
      const submitBtn = form.querySelector('.submit-btn');

      // Validation messages
      const nameValidation = document.getElementById('name-validation');
      const emailValidation = document.getElementById('email-validation');
      const messageValidation = document.getElementById('message-validation');

      // Validation patterns
      const namePattern = /^[a-zA-Z\s]{3,}$/;
      const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

      // Real-time validation
      function validateField(input, pattern, validationElement, successMessage, errorMessage) {
        const value = input.value.trim();
        
        if (value === '') {
          input.className = 'error';
          validationElement.className = 'validation-message error';
          validationElement.textContent = 'This field is required';
          return false;
        }

        if (pattern && !pattern.test(value)) {
          input.className = 'error';
          validationElement.className = 'validation-message error';
          validationElement.textContent = errorMessage;
          return false;
        }

        input.className = 'success';
        validationElement.className = 'validation-message success';
        validationElement.textContent = successMessage;
        return true;
      }

      // Name validation
      nameInput.addEventListener('input', () => {
        validateField(
          nameInput,
          namePattern,
          nameValidation,
          'Name looks good!',
          'Please enter at least 3 letters (only letters and spaces allowed)'
        );
      });

      // Email validation
      emailInput.addEventListener('input', () => {
        validateField(
          emailInput,
          emailPattern,
          emailValidation,
          'Email looks good!',
          'Please enter a valid email address'
        );
      });

      // Message validation
      messageInput.addEventListener('input', () => {
        validateField(
          messageInput,
          null,
          messageValidation,
          'Message looks good!',
          'Please enter at least 10 characters'
        );

        if (messageInput.value.length < 10) {
          messageInput.className = 'error';
          messageValidation.className = 'validation-message error';
          messageValidation.textContent = 'Message must be at least 10 characters long';
          return false;
        }
      });

      // Form submission
      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        // Validate all fields
        const isNameValid = validateField(
          nameInput,
          namePattern,
          nameValidation,
          'Name looks good!',
          'Please enter at least 3 letters (only letters and spaces allowed)'
        );

        const isEmailValid = validateField(
          emailInput,
          emailPattern,
          emailValidation,
          'Email looks good!',
          'Please enter a valid email address'
        );

        const isMessageValid = validateField(
          messageInput,
          null,
          messageValidation,
          'Message looks good!',
          'Please enter at least 10 characters'
        );

        if (!isNameValid || !isEmailValid || !isMessageValid) {
          return;
        }

        // Show loading state
        submitBtn.classList.add('loading');

        try {
          const response = await fetch(form.action, {
            method: 'POST',
            body: new FormData(form)
          });

          if (response.ok) {
            // Reset form
            form.reset();
            
            // Reset validation states
            [nameInput, emailInput, messageInput].forEach(input => {
              input.className = '';
            });
            [nameValidation, emailValidation, messageValidation].forEach(validation => {
              validation.className = 'validation-message';
              validation.textContent = '';
            });

            alert('Message sent successfully!');
          } else {
            throw new Error('Failed to send message');
          }
        } catch (error) {
          alert('Failed to send message. Please try again later.');
        } finally {
          submitBtn.classList.remove('loading');
        }
      });
    </script>
    <script src="../scripts/main.js"></script>
    <script src="../scripts/contact-validation.js"></script>
  </body>
</html>
